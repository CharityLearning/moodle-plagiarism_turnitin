define(["jquery","core/ajax","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_events"],function(n,t,e,i,a,o,r){function c(t){a.call(this,t)}var s='[data-action="hide"]';return c.TYPE="plagiarism_turnitin-modal_eula_launch",c.TEMPLATE="plagiarism_turnitin/modal_eula_launch",((c.prototype=Object.create(a.prototype)).constructor=c).prototype.registerEventListeners=function(){a.prototype.registerEventListeners.call(this),n(window).on("message",function(t){t=(void 0===t.data?t.originalEvent:t).data;"turnitin_eula_declined"!==t&&"turnitin_eula_accepted"!==t||n.ajax({type:"POST",url:M.cfg.wwwroot+"/plagiarism/turnitin/ajax.php",dataType:"json",data:{action:"actionuseragreement",message:t,sesskey:M.cfg.sesskey},success:function(){window.location.reload()},error:function(){window.location.reload()}})}),this.getModal().on(i.events.activate,s,function(t,e){var i=n.Event(r.cancel);this.getRoot().trigger(i,this),i.isDefaultPrevented()||(this.hide(),e.originalEvent.preventDefault())}.bind(this))},o.register(c.TYPE,c,"plagiarism_turnitin/modal_eula_launch"),c});
//# sourceMappingURL=modal_eula_launch.min.js.map